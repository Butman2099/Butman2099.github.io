<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru" xml:lang="ru"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Моделювання складних систем у Python - 8&nbsp; Лабораторна робота № 7</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./lab_11.html" rel="next">
<link href="./lab_6.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Пошук не дав результату",
    "search-matching-documents-text": "Результати пошуку",
    "search-copy-link-title": "Скопіюйте посилання для пошуку",
    "search-hide-matches-text": "Приховати додаткові результати",
    "search-more-match-text": "Додатковий результат у цьому документі",
    "search-more-matches-text": "Додаткові результати у цьому документі",
    "search-clear-button-title": "Очистити",
    "search-detached-cancel-button-title": "Скасувати",
    "search-submit-button-title": "Надіслати",
    "search-label": "Поиск"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Переключить боковую панель навигации" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab_7.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Лабораторна робота № 7</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Переключить боковую панель навигации" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Моделювання складних систем у Python</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/Butman2099/Complex-systems-book" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Переключить темный режим"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Поиск"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Передмова</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Вступ</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Лабораторна робота № 1</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Лабораторна робота № 2</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Лабораторна робота № 3</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Лабораторна робота № 4</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Лабораторна робота № 5</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Лабораторна робота № 6</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_7.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Лабораторна робота № 7</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Лабораторна робота № 11</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab_12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Лабораторна робота № 12</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Додатки</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Переключить раздел">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appa.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Інструкція зі встановлення Anaconda Navigator</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appb.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Вступ до мови програмування Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Основи Jupyter Notebook</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Зміст</h2>
   
  <ul>
  <li><a href="#теоретичні-відомості" id="toc-теоретичні-відомості" class="nav-link active" data-scroll-target="#теоретичні-відомості"><span class="header-section-number">8.1</span> Теоретичні відомості</a>
  <ul class="collapse">
  <li><a href="#означення-мультифракталів" id="toc-означення-мультифракталів" class="nav-link" data-scroll-target="#означення-мультифракталів"><span class="header-section-number">8.1.1</span> Означення мультифракталів</a></li>
  <li><a href="#узагальнені-фрактальні-розмірності-d_q" id="toc-узагальнені-фрактальні-розмірності-d_q" class="nav-link" data-scroll-target="#узагальнені-фрактальні-розмірності-d_q"><span class="header-section-number">8.1.2</span> Узагальнені фрактальні розмірності <span class="math inline">\(D_{q}\)</span></a></li>
  <li><a href="#функція-мультифрактального-спектра-falpha" id="toc-функція-мультифрактального-спектра-falpha" class="nav-link" data-scroll-target="#функція-мультифрактального-спектра-falpha"><span class="header-section-number">8.1.3</span> Функція мультифрактального спектра <span class="math inline">\(f(\alpha)\)</span></a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/Butman2099/Complex-systems-book/blob/main/lab_7.ipynb" class="toc-action">Редагувати сторінку</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Лабораторна робота № 7</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><strong>Тема.</strong> Мультифрактальний аналіз складних систем.</p>
<p><strong>Мета.</strong> Навчитися використовувати мультифрактальний аналіз детрендованих флуктуацій для отримання індикаторів нелінійних змін у системі.</p>
<section id="теоретичні-відомості" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="теоретичні-відомості"><span class="header-section-number">8.1</span> Теоретичні відомості</h2>
<section id="означення-мультифракталів" class="level3" data-number="8.1.1">
<h3 data-number="8.1.1" class="anchored" data-anchor-id="означення-мультифракталів"><span class="header-section-number">8.1.1</span> Означення мультифракталів</h3>
<p>У цій лабораторній ми викладемо основи теорії мультифракталів — <strong>неоднорідних фрактальних об’єктів</strong>, для повного опису яких, на відміну від регулярних фракталів, недостатньо введення лише однієї величини, його фрактальної розмірності <span class="math inline">\(D\)</span>, а потрібен цілий спектр таких розмірностей, кількість яких, взагалі кажучи, нескінченна. Причина цього полягає в тому, що поряд із суто геометричними характеристиками, які визначаються величиною <span class="math inline">\(D\)</span>, такі фрактали характеризуються й деякими специфічними статистичними властивостями.</p>
<div id="fig-triangle" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Images\lab_7\triangle.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Рисунок&nbsp;8.1: Трикутник Серпинського, області якого згенеровані з нерівномірними ймовірностями</figcaption>
</figure>
</div>
<p>Простіше всього пояснити, що розуміється під “неоднорідним фракталом” на прикладі трикутника Серпинського, отриманого за допомогою методу випадкових ітерацій.</p>
<p>Припустімо, однак, що в методі випадкових ітерацій ми тепер із якоїсь причини віддали перевагу одній із вершин трикутника, наприклад, вершині А, і стали вибирати її з імовірністю 90%. Дві ж інші вершини В і С для нас рівноцінні, але на їхню частку тепер припадає всього лише по 5%. Результат такої несиметричної гри” зображено нижче на рисунку вище.</p>
<p>Видно, що точки всередині трикутника АВС розподілені тепер вкрай нерівномірно. Більша їх частина перебуває біля вершини А та її прообразів. Водночас у вершин В і С (і їхніх прообразів) їх є вкрай мало. Проте, за звичайною термінологією, ця множина точок (за умови прагнення числа ітерацій до нескінченності) є фракталом, тому що збереглася основна властивість фракта — самоподібність. Дійсно, трикутник DFC, хоча в ньому у 20 разів менше точок, за своїми статистичними і геометричними властивостями повністю подібний до великого трикутника АВС. Так само, як і у великому трикутнику, точки в ньому концентруються здебільшого поблизу вершини D — аналогу вершини А.</p>
<div id="fig-dist-serp" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Images\lab_7\distribution_of_points.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Рисунок&nbsp;8.2: Розподіл точок по трикутнику Серпинського, представленого на попередньому рисунку</figcaption>
</figure>
</div>
<p><a href="#fig-dist-serp">Рисунок&nbsp;<span>8.2</span></a> більш детально демонструє результуючий розподіл точок по трикутнику Серпинського. Цифри в кожному з маленьких трикутників показують його відносну заселеність точками множини.</p>
<p>Однак, не дивлячись на нерівномірність розподілу точок фрактала, його фрактальна розмірність залишилась при цьому такою ж, <span class="math inline">\(D=\frac{\ln{3}}{\ln{2}}\)</span>. Покриття цієї множини все меншими трикутниками можна здійснити по тому ж алгоритму, що й раніше. Таке співпадіння змушує замислитись над пошуком нових кількісних характеристик, котрі могли б відрізнити нерівномірний розподіл точок від рівномірного.</p>
<p>Інший, складніший приклад неоднорідного фрактала, який ми б хотіли ще навести, показано на наступному рисунку. Ліворуч продемонстровано великий квадрат зі стороною, що дорівнює одиниці, який на цьому (нульовому) етапі повністю покриває собою деяку фрактальну множину точок <span class="math inline">\(M\)</span>. На наступному (першому) етапі, у центрі малюнка, показано, як ту саму множину можна покрити трьома меншими квадратами зі сторонами <span class="math inline">\(l_1=1/2, \ l_2=l_3=5/16\)</span>, у яких, відповідно, міститься частка <span class="math inline">\(p_1=1/2, \ p_2=1/3\)</span> та <span class="math inline">\(p_3=1/6\)</span> усіх точок.</p>
<div id="fig-dist-square" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Images\lab_7\square_fractal.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Рисунок&nbsp;8.3: Приклад мультифрактала, що підкоряється ренормалізаційній схемі</figcaption>
</figure>
</div>
<p>Наступний етап покриття (зображений на рисунку праворуч) містить уже 9 квадратів зі сторонами <span class="math inline">\(l_{1}^{2}=1/4, \ l_{1}l_{2}=l_{1}l_{3}=5/32\)</span> (у нижньому правому куті) і <span class="math inline">\(l_{2}l_{1}=5/32, \ l_{2}^{2}=l_{2}l_{3}=25/256\)</span> (угорі праворуч і ліворуч). Відносна заселеність цих квадратів точками множини показана на рисунку. Вона відповідає добутку чинників заселеності (імовірностей): <span class="math inline">\(p_{1}^{2}=1/4, \ p_{1}p_{2}=1/6, \ p_{1}p_{3}=1/12\)</span> — для нижньої правої групи, <span class="math inline">\(p_{2}p_{1}=1/6, \ p_{2}^{2}=1/9, \ p_{2}p_{3} = 1/18\)</span> — для верхньої лівої та <span class="math inline">\(p_{3}p_{1}=1/12, \ p_{3}p_{2}=1/18, \ p_{3}^{2}=1/36\)</span> — для верхньої правої групи. Зазначимо, що є чітка відповідність між заселеністю квадрата <span class="math inline">\(p_{j}p_{i}\)</span> і його розмірами <span class="math inline">\(l_{i}l_{i}\)</span>.</p>
<p>Подальший процес розбиття і покриття множини <span class="math inline">\(M\)</span> здійснюється згідно із цією ренормалізаційною схемою. Кожен квадрат, що має на <span class="math inline">\(n\)</span>-му кроці розмір <span class="math inline">\(l\)</span> і заселеність <span class="math inline">\(р\)</span>, замінюється на <span class="math inline">\(n+1\)</span> кроці трьома квадратами з розмірами <span class="math inline">\(ll_{1}, \ ll_{2}, \ ll_{3}\)</span> і заселеностями <span class="math inline">\(pp_{1}, \ pp_{2}, \ pp_{3}\)</span> відповідно, розміщеними таким самим чином відносно один одного, як показано на попередньому посередні рисунку.</p>
<p>Двоє розглянутих вище випадки являють собою приклади неоднорідних фракталів. Під словом “неоднорідний” ми тут розуміємо нерівномірний розподіл точок множини по фракталу або нерівномірний розподіл малих та великих флуктуацій у часовому ряді. Причина неоднорідності в попередніх випадках одна й та сама — різні ймовірності заповнення геометрично однакових елементів фрактала, або в загальному випадку невідповідність імовірностей заповнення геометричним розмірам відповідних областей. Такі неоднорідні фрактальні об’єкти в літературі називають мультифракталами, і їх вивченням ми й займемося надалі.</p>
</section>
<section id="узагальнені-фрактальні-розмірності-d_q" class="level3" data-number="8.1.2">
<h3 data-number="8.1.2" class="anchored" data-anchor-id="узагальнені-фрактальні-розмірності-d_q"><span class="header-section-number">8.1.2</span> Узагальнені фрактальні розмірності <span class="math inline">\(D_{q}\)</span></h3>
<p>Дамо загальне визначення мультифрактала. Розглянемо фрактальний об’єкт, що займає якусь обмежену ділянку <span class="math inline">\(\Omega\)</span> розміру <span class="math inline">\(L\)</span> у Евклідовому просторі з розмірністю <span class="math inline">\(d\)</span>. Нехай на якомусь етапі його побудови він являє собою множину з <span class="math inline">\(N \gg 1\)</span> точок, якось розподілених у цій області. Ми будемо припускати, що врешті-решт <span class="math inline">\(N \to \infty\)</span>. Прикладом такої множини може слугувати трикутник Серпінського, побудований методом випадкових ітерацій. Кожен крок ітераційної процедури додає до цієї множини одну нову точку.</p>
<p>Розіб’ємо всю область <span class="math inline">\(\Omega\)</span> на кубічні клітинки зі стороною <span class="math inline">\(\varepsilon \ll L\)</span> та об’ємом <span class="math inline">\(\varepsilon^{d}\)</span>. Далі нас будуть цікавити тільки зайняті клітинки, у яких міститься хоча б одна точка. Нехай номер зайнятих комірок <span class="math inline">\(i\)</span> змінюється в межах <span class="math inline">\(і=1, 2,..., N(\varepsilon)\)</span>, де <span class="math inline">\(N(\varepsilon)\)</span> — сумарна кількість зайнятих клітинок, яка, звісно, залежить від розміру клітинки <span class="math inline">\(\varepsilon\)</span>.</p>
<p>Нехай <span class="math inline">\(n_{i}(\varepsilon)\)</span> представляє собою кількість точок у клітинці з номером <span class="math inline">\(i\)</span>, тоді величина</p>
<p><span class="math display">\[
p_{i}(\varepsilon) = \lim_{N\to\infty}\frac{n_{i}(\varepsilon)}{N}
\]</span></p>
<p>представляє собою ймовірність того, що навмання взята точка з нашої множини знаходиться в комірці <span class="math inline">\(i\)</span>. Інакше кажучи, ймовірності <span class="math inline">\(р_{i}\)</span> характеризують відносну заселеність комірок. З умови нормування ймовірності випливає, що</p>
<p><span class="math display">\[
\sum_{i=1}^{N(\varepsilon)}p_{i}(\varepsilon)=1.
\]</span></p>
<p>Уведемо тепер у розгляд <strong>узагальнену статистичну суму</strong> <span class="math inline">\(Z(q,\varepsilon)\)</span>, що характеризується показником ступеня <span class="math inline">\(q\)</span>, який може набувати будь-яких значень в інтервалі <span class="math inline">\(-\infty&lt;q&lt;+\infty\)</span></p>
<p><span class="math display">\[
Z(q,\varepsilon)=\sum_{i=1}^{N(\varepsilon)}p_{i}^{q}(\varepsilon).
\]</span></p>
<p>Спектр <strong>узагальнених фрактальних розмірностей</strong> <span class="math inline">\(D_{q}\)</span>, що характеризує даний розподіл точок в області <span class="math inline">\(\Omega\)</span>, визначається за допомогою співвідношення</p>
<p><span class="math display">\[
D_{q} = \frac{\tau(q)}{q-1},
\]</span></p>
<p>де функція <span class="math inline">\(\tau(q)\)</span> має вид</p>
<p><span class="math display">\[
\tau(q)=\lim_{\varepsilon\to 0}\frac{\ln{Z(q,\varepsilon)}}{\ln{\varepsilon}}.
\]</span></p>
<p>Як ми покажемо нижче, якщо <span class="math inline">\(D_{q}=D=\text{const}\)</span>, тобто не залежить від <span class="math inline">\(q\)</span>, то дана множина точок являє собою звичайний, регулярний фрактал, який характеризується лише однією величиною — фрактальною розмірністю <span class="math inline">\(D\)</span>. Навпаки, якщо функція <span class="math inline">\(D_{q}\)</span> якось змінюється з <span class="math inline">\(q\)</span>, то розглянута множина точок представляє мультифрактал.</p>
<p>Таким чином, мультифрактал у загальному випадку характеризується деякою <strong>нелінійною</strong> функцією <span class="math inline">\(\tau(q)\)</span>, що визначає поведінку статистичної суми <span class="math inline">\(Z(q,\varepsilon)\)</span> при <span class="math inline">\(\varepsilon\to 0\)</span></p>
<p><span class="math display">\[\tag{1}
Z(q,\varepsilon)=\sum_{i=1}^{N(\varepsilon)}p_{i}^{q}(\varepsilon) \approx \varepsilon^{\tau(q)}.
\]</span></p>
<p>Слід мати на увазі, що в реальній ситуації ми завжди маємо скінченне, хоча й дуже велике число дискретних точок <span class="math inline">\(N\)</span>, тому при комп’ютерному моделювані конкретної множини граничний перехід <span class="math inline">\(\varepsilon\to 0\)</span> треба виконувати з обережністю, пам’ятаючи, що йому завжди передує ліміт <span class="math inline">\(N \to 0\)</span>.</p>
<p>Покажемо тепер, як поводиться узагальнена статистична сума у випадку звичайного регулярного фрактала з фрактальною розмірністю <span class="math inline">\(D\)</span>. У цьому випадку в усіх зайнятих комірках міститься однакова кількість точок</p>
<p><span class="math display">\[
n_{i}(\varepsilon)=\frac{N}{N(\varepsilon)},
\]</span></p>
<p>тобто фрактал представляється <strong>однорідним</strong>. Тоді очевидно, що відносні населеності клітинок, <span class="math inline">\(p_{i}(\varepsilon)=1/N(\varepsilon)\)</span>, також однакові, і узагальнена статистична сума набуває вигляду</p>
<p><span class="math display">\[\tag{2}
Z(q,\varepsilon) = N^{1-q}(\varepsilon).
\]</span></p>
<p>Врахуємо тепер, що, згідно визначеню фрактальної розмірності <span class="math inline">\(D\)</span>, кількість зайнятих клітинок при достатньо малому <span class="math inline">\(\varepsilon\)</span> поводить себе наступним чином:</p>
<p><span class="math display">\[\tag{3}
N(\varepsilon) \approx \varepsilon^{-D}.
\]</span></p>
<p>Підставляючи (3) у формулу (2), і порівнюючи з (1), отримуємо</p>
<p><span class="math display">\[\tag{4}
\varepsilon^{\tau(q)} = \varepsilon^{-D(1-q)} \to \tau(q)=(q-1)D.
\]</span></p>
<p>Ми приходимо до висновку, що у випадку звичайного фрактала функція (4) є лінійною. Тоді всі <span class="math inline">\(D_{q}\)</span> дійсно не залежать від <span class="math inline">\(q\)</span>. Фрактал у якого всі узагальнені фрактальні розмірності <span class="math inline">\(D_{q}\)</span> співпадають називається <strong>монофракталом</strong>.</p>
<p>Якщо розподіл точок по клітинкам неоднаковий, тоді фрактал називається неоднорідним, тобто представляє із себе мультифрактал, і для його характеристики необхідний цілий спектр узагальнених фрактальних розмірностей <span class="math inline">\(D_{q}\)</span>, кількість котрих, у загальному випадку, нескінченна.</p>
<p>Так, наприклад, при <span class="math inline">\(q \to +\infty\)</span> основний внесок в узагальнену статистичну суму (1) вносять комірки, що містять найбільшу кількість частинок <span class="math inline">\(n_{i}\)</span> у них і, відповідно, що характеризуються найбільшою ймовірністю їх заповнення <span class="math inline">\(p_{i}\)</span>. Навпаки, при <span class="math inline">\(q \to -\infty\)</span> основний внесок в узагальнену статистичну суму вносять найбільш розрідженні комірки з найменшою ймовірністю їх заповнення <span class="math inline">\(p_{i}\)</span>. Таким чином, функція <span class="math inline">\(D_{q}\)</span> показує, наскільки неоднорідним представляється досліджувана множина точок <span class="math inline">\(\Omega\)</span>.</p>
<p>У подальшому для характеристики розподілу точок необхідно знати не тільки функцію <span class="math inline">\(\tau(q)\)</span>, але і її похідну:</p>
<p><span class="math display">\[
\frac{d\tau(q)}{dq} = \lim_{\varepsilon\to 0}\frac{\sum_{i=1}^{N(\varepsilon)}p_{i}^{q}\ln{p_{i}}}{\left( \sum_{i=1}^{N(\varepsilon)}p_{i}^{q} \right)\ln{\varepsilon}}.
\]</span></p>
<p>Ця похідна має важливий фізичний зміст, який буде продемонстровано пізніше. Зараз знову зазначимо, що для мультифрактальної системи вона не залишається константною і змінюється з <span class="math inline">\(q\)</span>.</p>
</section>
<section id="функція-мультифрактального-спектра-falpha" class="level3" data-number="8.1.3">
<h3 data-number="8.1.3" class="anchored" data-anchor-id="функція-мультифрактального-спектра-falpha"><span class="header-section-number">8.1.3</span> Функція мультифрактального спектра <span class="math inline">\(f(\alpha)\)</span></h3>
<section id="спектр-фрактальних-розмірностей" class="level4" data-number="8.1.3.1">
<h4 data-number="8.1.3.1" class="anchored" data-anchor-id="спектр-фрактальних-розмірностей"><span class="header-section-number">8.1.3.1</span> Спектр фрактальних розмірностей</h4>
<p>У попередньому пункті ми ввели поняття мультифрактала — об’єкта, що представляє собою неоднорідний фрактал. Для його опису ми ввели множину узагальнених фрактальних розмірностей <span class="math inline">\(D_{q}\)</span>, де <span class="math inline">\(q\)</span> приймає будь-які значення в інтервалі <span class="math inline">\(-\infty&lt;q&lt;+\infty\)</span>. Однак величини <span class="math inline">\(D_{q}\)</span> не є, строго кажучи, фрактальними розмірностями в загальному розумінні цього слова.</p>
<p>Тому часто поряд із ними для характеристики мультифрактальної множини використовують так звану <strong>функцію мультифрактального спектра</strong> <span class="math inline">\(f(\alpha)\)</span> (спектр сингулярностей мультифрактала), до якої, як ми побачимо надалі, більше підходить термін фрактальна розмірність. Ми покажемо, що величина <span class="math inline">\(f(\alpha)\)</span> фактично дорівнює хаусдорфовій розмірності якоїсь однорідної фрактальної підмножини із вихідної множини <span class="math inline">\(\Omega\)</span>, що дає домінантний внесок у статистичну суму при заданій величині <span class="math inline">\(q\)</span>.</p>
<p>Однією з основних характеристик мультифрактала є набір імовірностей <span class="math inline">\(р_{i}\)</span>, що показують відносну заселеність клітинок <span class="math inline">\(\varepsilon\)</span>, якими ми покриваємо цю множину. Чим менший розмір клітинки, тим менша величина її заселеності. Для самоподібних множин залежність <span class="math inline">\(p_{i}\)</span> від розміру клітинки <span class="math inline">\(\varepsilon\)</span> має степеневий характер:</p>
<p><span class="math display">\[
p_{i}(\varepsilon) \approx \varepsilon^{\alpha_{i}},
\]</span></p>
<p>де <span class="math inline">\(\alpha_{i}\)</span> являє собою деякий показник ступеня (різний для різнок клітинок <span class="math inline">\(i\)</span>). Відомо, що для регулярного (однорідного) фрактала всі показники ступеня <span class="math inline">\(\alpha_{i}\)</span> однакові й рівні фрактальній розмірності <span class="math inline">\(D\)</span>:</p>
<p><span class="math display">\[
p_{i} = \frac{1}{N(\varepsilon)} \approx \varepsilon^{D}.
\]</span></p>
<p>У даному випадку статистична сума (1) приймає наступний вигляд:</p>
<p><span class="math display">\[
Z(q,\varepsilon) = \sum_{i=1}^{N(\varepsilon)}p_{i}^{q}(\varepsilon) = N(\varepsilon)\varepsilon^{Dq}=\varepsilon^{-D}\varepsilon^{Dq} \approx \varepsilon^{D(q-1)}.
\]</span></p>
<p>Тому <span class="math inline">\(\tau(q)=D(q-1)\)</span> і всі узагальнені фрактальні розмірності <span class="math inline">\(D_{q}=D\)</span> у цьому випадку співпадають та не залежать від <span class="math inline">\(q\)</span>.</p>
<p>Однак, для такого складного об’єкта, як мультифрактал, унаслідок його неоднорідності, ймовірності заповнення клітинок <span class="math inline">\(p_{i}\)</span> у загальному випадку різняться, і показник ступеня <span class="math inline">\(\alpha_{i}\)</span> для різних клітинок може приймати різні значення. Достатньо типовою є ситуація, коли ці значення неперервно заповнюють деякий закритий інтервал <span class="math inline">\(\left( \alpha_{min}, \alpha_{max} \right)\)</span>, причому</p>
<p><span class="math display">\[
p_{min} \approx \varepsilon^{\alpha_{max}}, \; \text{a} \; p_{max} \approx \varepsilon^{\alpha_{min}}.
\]</span></p>
<p>Тепер перейдемо до питання о розподілі ймовірностей різних значень <span class="math inline">\(\alpha_{i}\)</span>. Нехай <span class="math inline">\(n(\alpha)d\alpha\)</span> є ймовірністю того, що <span class="math inline">\(\alpha_{i}\)</span> знаходиться в інтервалі від <span class="math inline">\(\alpha\)</span> до <span class="math inline">\(\alpha+d\alpha\)</span>. Іншими словами, <span class="math inline">\(n(\alpha)d\alpha\)</span> представляє собою відносну кількість клітинок <span class="math inline">\(i\)</span>, що характеризуються однією і тією самою мірою <span class="math inline">\(p_{i}\)</span> з <span class="math inline">\(\alpha_{i}\)</span>, що лежать у цьому інтервалі. У випадку монофрактала, для котрого всі <span class="math inline">\(\alpha_{i}\)</span> однакові (і рівні фрактальній розмірності <span class="math inline">\(D\)</span>), це число, очевидно, пропорційно повній кількості клітинок <span class="math inline">\(N(\varepsilon) \approx \varepsilon^{-D}\)</span>, степеневим чином залежних від розміру клітинки <span class="math inline">\(\varepsilon\)</span>. Показник ступеня в цьому співвідношені визначається фрактальною розмірністю множини <span class="math inline">\(D\)</span>.</p>
<p>Для мультифрактала, однак, це не так, і різні значення <span class="math inline">\(\alpha_{i}\)</span> зустрічаються з ймовірністю, що характеризується не однією і тією ж величиною <span class="math inline">\(D\)</span>, а різними (в залежності від <span class="math inline">\(\alpha\)</span>) значеннями показниками ступеня <span class="math inline">\(f(\alpha)\)</span>,</p>
<p><span class="math display">\[\tag{5}
n(\alpha) \approx \varepsilon^{-f(\alpha)}.
\]</span></p>
<p>Таким чином, фізичний сенс функції <span class="math inline">\(f(\alpha)\)</span> полягає в тому, що вона представляє собою розмірність хаусдорфа деякої однорідної підмножини <span class="math inline">\(\Omega_{\alpha}\)</span> із вихідної множини <span class="math inline">\(\Omega\)</span>, що характеризується однаковими ймовірностями заповнення клітинок <span class="math inline">\(p_{i} \approx \varepsilon^{\alpha}\)</span>. Оскільки фрактальна розмірність підмножини очевидно завжди менша або рівна фрактальній розмірності вихідної множини <span class="math inline">\(D_{0}\)</span>, має місце важлива нерівність для функції <span class="math inline">\(f(\alpha)\)</span>:</p>
<p><span class="math display">\[
f(\alpha) \leq D_{0}.
\]</span></p>
<p>У результаті можна зробити висновок, що множина різних значень функції <span class="math inline">\(f(\alpha)\)</span> (при різних <span class="math inline">\(\alpha\)</span>) представляє собою <strong>спектр фрактальних розмірностей</strong> однорідних підмножин <span class="math inline">\(\Omega_{\alpha}\)</span>, на які можна розбити вихідну множину <span class="math inline">\(\Omega\)</span>, кожна з яких характеризується власним значенням фрактальної розмірності <span class="math inline">\(f(\alpha)\)</span>.</p>
<p>Оскільки будь-якій підмножині належить лише частина загальної кількості клітинок <span class="math inline">\(N(\varepsilon)\)</span>, на котрі ми розділили вихідну множину <span class="math inline">\(\Omega\)</span>, умова нормування ймовірностей, очевидно, не виконується при підсумовуванні тільки по цій підмножині. Сума цих імовірностей стає менше одиниці. Тому й самі ймовірності <span class="math inline">\(p_i\)</span> з одним і тим самим значенням <span class="math inline">\(\alpha_i\)</span> очевидно менше (або в крайньому випадку одного порядку), ніж величина <span class="math inline">\(\varepsilon^{f(\alpha_i)}\)</span>, яка обернено пропорційна кількості наявних клітинок, що покривають дану підмножину (нагадаємо, що у випадку монофрактала <span class="math inline">\(p_i \approx 1/N(\varepsilon)\)</span>). У результаті ми приходимо до наступної важливої нерівності для функції <span class="math inline">\(f(\alpha)\)</span>. А саме, при всіх значеннях <span class="math inline">\(\alpha\)</span></p>
<p><span class="math display">\[
f(\alpha) \leq \alpha.
\]</span></p>
<p>Знак рівності має місце, наприклад, для повністю однорідного фрактала, де <span class="math inline">\(f(\alpha)=\alpha=D\)</span>.</p>
</section>
<section id="перетворення-лежандра" class="level4" data-number="8.1.3.2">
<h4 data-number="8.1.3.2" class="anchored" data-anchor-id="перетворення-лежандра"><span class="header-section-number">8.1.3.2</span> Перетворення Лежандра</h4>
<p>Встановимо зв’язок функції <span class="math inline">\(f(\alpha)\)</span> із введенною раніше функцією <span class="math inline">\(\tau(q)\)</span>. Обчислимо для цього статистичну суму <span class="math inline">\(Z(q,\varepsilon)\)</span>. Підставляє у статистичну суму ймовірності <span class="math inline">\(p_i \approx \varepsilon^{\alpha_i}\)</span>, та переходячи від підсумовування по <span class="math inline">\(i\)</span> до інтегрування по <span class="math inline">\(\alpha\)</span> з плотністю ймовірностей (5), ми отримаємо</p>
<p><span class="math display">\[\tag{6}
Z(q,\varepsilon) = \sum_{i=1}^{N(\varepsilon)} p_{i}^{q}(\varepsilon) \approx \int d\alpha n(\alpha)\varepsilon^{q\alpha} \approx \int d\alpha\varepsilon^{q\alpha-f(\alpha)}.
\]</span></p>
<p>Так як величина <span class="math inline">\(\varepsilon\)</span> дуже мала, основний внесок у цей інтеграл вноситимуть ті значення <span class="math inline">\(\alpha(q)\)</span>, при яких показник ступеня <span class="math inline">\(q\alpha-f(\alpha)\)</span> виявляється мінімальним (а підінтегральна функція — максимальною). Цей вклад буде пропорційним значенню підінтегральної функції у точці максимума. Саме ж значення <span class="math inline">\(\alpha(q)\)</span> визначається при цьому з наступної умови:</p>
<p><span class="math display">\[
\left. \frac{d}{d\alpha}[ q\alpha-f(\alpha) ] \right \vert_{\alpha=\alpha(q)} = 0.
\]</span></p>
<p>Також, з умови мінімуму ми маємо</p>
<p><span class="math display">\[
\left. \frac{d^{2}}{d\alpha^{2}}[ q\alpha-f(\alpha) ] \right \vert_{\alpha=\alpha(q)} &gt; 0.
\]</span></p>
<p>У результаті отримуємо, що залежність <span class="math inline">\(\alpha(q)\)</span> неявним чином визначається з рівняння</p>
<p><span class="math display">\[\tag{7}
q = \frac{df(\alpha)}{d\alpha}
\]</span></p>
<p>і що функція <span class="math inline">\(f(\alpha)\)</span> усюди є випуклою</p>
<p><span class="math display">\[
f^{''}(\alpha)&gt;0.
\]</span></p>
<p>Це значить, що величина <span class="math inline">\(f(\alpha(q))\)</span> дійсно визначає фрактальну розмірність підмножини <span class="math inline">\(\Omega_{\alpha(q)}\)</span>, що має найбільший домінуючий внесок у статистичну суму (6) при заданій величині показника ступеня <span class="math inline">\(q\)</span>.</p>
<p>Оскільки <span class="math inline">\(Z(q,\varepsilon)=\tau(q)\)</span>, приходимо до висновку, що</p>
<p><span class="math display">\[
\tau(q) = q\alpha(q) - f(\alpha(q)).
\]</span></p>
<p>Пам’ятаючи, що <span class="math inline">\(\tau(q)=D(q-1)\)</span>, можемо віднайти функцію <span class="math inline">\(D_{q}\)</span>:</p>
<p><span class="math display">\[\tag{8}
D_{q} = \frac{1}{q-1}[ q\alpha(q)-f(\alpha(q)) ].
\]</span></p>
<p>Таким чином, якщо ми знаємо функцію мультифрактального спектра <span class="math inline">\(f(\alpha)\)</span>, то з домомогою співвідношень (7) та (8) ми можемо знайти функцію <span class="math inline">\(D_{q}\)</span>. Навпаки, знаючи <span class="math inline">\(D_{q}\)</span>, ми можемо знайти залежність <span class="math inline">\(\alpha(q)\)</span> з допомогою рівняння</p>
<p><span class="math display">\[\tag{9}
\alpha(q) = \frac{d}{dq}[(q-1)D_{q}]
\]</span></p>
<p>і після цього знайти із (8) залежність <span class="math inline">\(f(\alpha(q))\)</span>. Ці два рівняння і визначають функцію <span class="math inline">\(f(\alpha)\)</span>.</p>
<p><span class="math display">\[
\frac{d\tau}{dq}\frac{dq}{d\alpha} = q + \alpha\frac{dq}{d\alpha} - \frac{df}{d\alpha}.
\]</span></p>
<p>Приймаючи до уваги те, що <span class="math inline">\(q=df/d\alpha\)</span>, і скорочуючи це рівняння на <span class="math inline">\(dq/d\alpha\)</span>, приходимо до співвідношення</p>
<p><span class="math display">\[
\alpha = \frac{d\tau(q)}{dq},
\]</span></p>
<p>що еквівалентне виразу (9).</p>
<p>Вирази для <span class="math inline">\(\tau(q)\)</span> та <span class="math inline">\(\alpha(q)\)</span> задають <strong>перетворення Лежандра</strong> від змінних <span class="math inline">\(\{ q, \tau(q) \}\)</span> до змінних <span class="math inline">\(\{\alpha, f(\alpha)\}\)</span>:</p>
<p><span class="math display">\[\tag{10}
\alpha = \frac{d\tau}{dq}
\]</span></p>
<p>та</p>
<p><span class="math display">\[\tag{11}
f(\alpha) = q\frac{d\tau}{dq} - \tau.
\]</span></p>
<p>Як відомо, для однорідного фрактала <span class="math inline">\(D_{q}=D=\text{const}\)</span>. Тому <span class="math inline">\(\alpha=d\tau/dq=D\)</span> і <span class="math inline">\(f(\alpha)=q\alpha-\tau(q)=qD-D(q-1)=D\)</span>. У цьому випадку “графік” функції <span class="math inline">\(f(\alpha)\)</span> на площині <span class="math inline">\(\left( \alpha, f(\alpha) \right)\)</span> складається лише з однієї точки <span class="math inline">\(\left( D, D \right)\)</span>.</p>
</section>
<section id="мультифрактальний-аналіз-детрендованих-флуктуацій" class="level4" data-number="8.1.3.3">
<h4 data-number="8.1.3.3" class="anchored" data-anchor-id="мультифрактальний-аналіз-детрендованих-флуктуацій"><span class="header-section-number">8.1.3.3</span> Мультифрактальний аналіз детрендованих флуктуацій</h4>
<p>Монофрактальні та мультифрактальні структури фінансових сигналів є особливим різновидом масштабно-інваріантних структур. Найчастіше монофрактальна структура фінансових часових рядів визначається одним степеневим показником і передбачає, що масштабо-інваріантність не залежить від часу і простору. Однак, часто ми маємо змогу спостерігати просторово-часову варіацію масштабно-інваріантної структури досліджуваної складної системи. Ці просторово-часові варіації вказують на мультифрактальність фінансового сигналу, яка визначається мультифрактальним спектром. Ширина і форма мультифрактального спектра можуть також допомогти диференціювати варіативність серцевого ритму у пацієнтів із серцевими захворюваннями, такими як шлуночкова тахікардія, фібриляція шлуночків і застійна серцева недостатність. Мультифрактальний спектр може допомогти кількісно визначити асиметрію підйомів та спадів на фондовому чи криптовалютному ринках, передбачити фінансову кризу, що поступово наближується, і, таким чином, сприяти успішності подальших торгівельних рішень. Основна мета цього розділу — представити одну з найточніших процедур для визначення множини фрактальних показників — <strong>мультифрактальний аналіз детрендованих флуктуацій</strong> (multifractal detrended fluctuation analysis, MFDFA).</p>
<p>Побудова MFDFA складається з восьми кроків: Розділ <em>“Шум і випадкові блукання у часовому ряді”</em> представляє метод приведення часового ряду до такого, що подібний до випадкового блукання, що є попереднім кроком для MFDFA. Розділ <em>“Обчислення середньоквадратичної варіації часового ряду”</em> представляє середньоквадратичну варіацію, яка є основною процедурою для подальших обчислень в MFDFA і типовим способом обчислення середньої варіації часових рядів різної природи. Розділ <em>“Локальна середньоквадратична варіація часового ряду”</em> представляє обчислення локальної варіації часового ряду як середньоквадратичного відхилення часового ряду в межах сегментів, що можуть як перекриватися, так і не перекриватися. У розділі <em>“Локальне детрендування часового ряду”</em> таке ж локальне середньоквадратичне відхилення обчислюється навколо трендів, які часто зустрічаються у фінансових часових рядах. У розділі <em>“Монофрактальний аналіз детрендованих флуктуацій”</em> амплітуди локальних середніх квадратичних відхилень підсумовуються в узагальнене середнє квадратичне відхилення. У сумарному середньоквадратичному відхиленні для сегментів з малими розмірами вибірки переважають швидкі флуктуації часового ряду. На противагу цьому, у сумарному середньоквадратичному відхиленні для сегментів з великими розмірами вибірки переважають повільні коливання. Степенева залежність між загальним середнім квадратичним відхиленням для декількох розмірів вибірки (тобто масштабів) визначається за допомогою монофрактального аналізу дентрендованих флуктуацій (monofractal detrended fluctuation analysis, DFA) і називається показником Херста (Hurst exponent, <span class="math inline">\(H\)</span>). У розділі <em>“Мультифрактальний аналіз детрендованих флуктуацій”</em> MFDFA отримують шляхом розширення на <span class="math inline">\(q\)</span>-й порядок узагальненого середньоквадратичного відхилення. Середньоквадратичне відхилення <span class="math inline">\(q\)</span>-го порядку може розрізняти сегменти з малими та великими флуктуаціями. Степенева залежність між середньоквадратичним відхиленням <span class="math inline">\(q\)</span>-го порядку чисельно визначається як показник Херста <span class="math inline">\(q\)</span>-го порядку. У розділі <em>“Мультифрактальний спектр часових рядів”</em> на основі показника Херста <span class="math inline">\(q\)</span>-го порядку обчислено декілька мультифрактальних спектрів.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Скопійовано!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Скопійовано!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="./lab_6.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Лабораторна робота № 6</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./lab_11.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Лабораторна робота № 11</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>